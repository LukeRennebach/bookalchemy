<!doctype html>
<!-- Add Book page for BookAlchemy: allows adding books linked to authors -->
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Add Book</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
  </head>
  <body>
    <header>BookAlchemy</header>

    <div class="container">
      <div class="nav">
        <a href="{{ url_for('home') }}">Home</a>
        <a href="{{ url_for('add_author') }}">Add Author</a>
      </div>

      <h1 class="center">Add Book</h1>

      <!-- Flash message display -->
      {% if message %}
      <div class="flash-messages">
        <div class="flash flash-success">{{ message }}</div>
      </div>
      {% endif %}

      <!-- Book submission form -->
      <form method="post" class="card">
        <label for="title">Title</label>
        <input id="title" name="title" type="text" required placeholder="e.g. The Ember Key">

        <label for="isbn">ISBN</label>
        <input id="isbn" name="isbn" type="text" required placeholder="e.g. 978-3-16-148410-0">

        <label for="publication_year">Publication Year</label>
        <input id="publication_year" name="publication_year" type="number" placeholder="e.g. 2001">

        <label for="author_id">Author</label>
        <select id="author_id" name="author_id" required>
          <option value="" disabled selected>Choose author</option>
          {% for a in authors %}
            <option value="{{ a.id }}">{{ a.name }}</option>
          {% endfor %}
        </select>

        <div class="center mt-4">
          <button type="submit" class="btn btn-primary">Save Book</button>
        </div>
      </form>
    </div>
  </body>
</html>